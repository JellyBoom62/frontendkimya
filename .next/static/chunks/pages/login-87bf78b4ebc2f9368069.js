(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4351:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(5474),i=r(4096),s=r(5754),o=r(1163),u=r(7294),a=r(5893);function c(e){var n=e.children,r=(0,u.useState)("NoAuth"),c=r[0],l=r[1];(0,u.useEffect)((function(){(0,t.Ui)(l)}),[]);var d=(0,o.useRouter)();return"NoAuth"==c?(0,a.jsx)(i.k,{height:"100vh",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(s.$,{size:"xl"})}):c?(d.push("/home"),(0,a.jsx)(a.Fragment,{})):(0,a.jsx)("div",{children:n})}},5474:function(e,n,r){"use strict";r.d(n,{x4:function(){return s},a$:function(){return o},kS:function(){return u},Ui:function(){return a},jw:function(){return c},lD:function(){return l}});var t=r(9669),i=r.n(t)().create({baseURL:"http://89.108.79.146"});function s(e){return i.post("/auth/login",{username:e.username,password:e.password},{withCredentials:!0}).then((function(e){return"good"})).catch((function(e){return"bad"}))}function o(e){return i.post("/auth/register",{name:e.name,surname:e.surname,username:e.username,password:e.password,school:e.school,class:e.class,group:e.group},{withCredentials:!0}).then((function(e){return"good"})).catch((function(e){return"bad"}))}function u(){i.get("/auth/logout",{withCredentials:!0})}function a(e){i.get("/auth/me",{withCredentials:!0}).then((function(n){e(n.data)})).catch((function(n){e(void 0)}))}function c(e){i.get("/tests/name",{withCredentials:!0}).then((function(n){e(n.data)})).catch((function(e){}))}function l(e,n){return i.get("/tests/".concat(e),{withCredentials:!0}).then((function(e){n(e.data)})).catch((function(e){}))}},2721:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return k}});var t=r(4942),i=r(980),s=r(6729),o=r(4096),u=r(336),a=r(6618),c=r(9887),l=r(7302),d=r(7442),h=r(8448),f=r(2283),m=r(8834),p=r(9501),j=r(5063),g=r(5474),b=r(1163),v=r(4351),x=r(5893);function w(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var O=p.Ry({username:p.Z_().required("Ad\u0131n\u0131z\u0131 yaz\u0131n").matches(/^[a-z0-9]+$/,"Yaln\u0131z ki\xe7ik h\u0259rfl\u0259r"),password:p.Z_().required("\u015eifr\u0259nizi yaz\u0131n").matches().min(8,"\u015eifr\u0259 8-d\u0259n ki\xe7ik olmamal\u0131d\u0131r")}).required();function k(){var e,n,r,t,p=(0,b.useRouter)(),w=(0,i.useToast)(),k=(0,i.useColorModeValue)("gray.200","gray.700"),C=(0,f.cI)({resolver:(0,m.X)(O)}),_=C.register,z=C.handleSubmit,P=C.formState.errors;return(0,x.jsx)(v.Z,{children:(0,x.jsx)("form",{onSubmit:z((function(e){(0,g.x4)(e).then((function(e){"good"==e?(p.push("/home"),w({title:"A\xe7\u0131l\u0131r...",description:"U\u011furla giri\u015f edildi",status:"success",duration:1e3,isClosable:!0})):"bad"==e&&w({title:"S\u0259hvlik ba\u015f verdi",description:"Username v\u0259 ya \u015fifr\u0259 s\u0259hvdir",status:"error",duration:1e3,isClosable:!0})}))})),autoComplete:"off",children:(0,x.jsx)(s.NI,{id:"login",children:(0,x.jsx)(o.k,{height:"100vh",alignItems:"center",justifyContent:"center",children:(0,x.jsxs)(o.k,{direction:"column",background:k,p:12,rounded:6,children:[(0,x.jsx)(u.X,{mb:6,as:"h1",size:"lg",children:"Giri\u015f s\u0259hif\u0259si"}),(0,x.jsx)(a.l,{children:"Username"}),(0,x.jsx)(c.I,y(y({},_("username")),{},{placeholder:"fuad123",variant:"filled"})),(0,x.jsx)(s.Q6,{mb:3,children:"Ad\u0131 ki\xe7ik h\u0259rfl\u0259rl\u0259 yaz\u0131n"}),(null===(e=P.username)||void 0===e?void 0:e.message)&&(0,x.jsxs)(l.bZ,{status:"error",mb:3,children:[(0,x.jsx)(l.zM,{}),(0,x.jsx)(l.X,{children:null===(n=P.username)||void 0===n?void 0:n.message})]}),(0,x.jsx)(a.l,{children:"\u015eifr\u0259"}),(0,x.jsx)(c.I,y(y({},_("password")),{},{placeholder:"********",variant:"filled",mb:6,type:"password"})),(null===(r=P.password)||void 0===r?void 0:r.message)&&(0,x.jsxs)(l.bZ,{status:"error",mb:3,children:[(0,x.jsx)(l.zM,{}),(0,x.jsx)(l.X,{children:null===(t=P.password)||void 0===t?void 0:t.message})]}),(0,x.jsx)(d.z,{mb:6,colorScheme:"teal",type:"submit",children:"Daxil olmaq"}),(0,x.jsx)(h.M,{color:"cyan.200",children:(0,x.jsx)(j.default,{href:"/register",children:(0,x.jsx)("a",{children:"Qeydiyyatdan ke\xe7"})})})]})})})})})}},4140:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(2721)}])}},function(e){e.O(0,[774,810,519,888,179],(function(){return n=4140,e(e.s=n);var n}));var n=e.O();_N_E=n}]);